@model ProyectoMerck.Models.FertilityVM


<header style="@(Model.FertilityLevel != FertilityLevel.High ? "background-color:#2EBDCD ;" : "background-color:#EC3B96; ")">
    <nav class="navbar navbar-expand-sm navbar-toggleable-sm navbar-light mb-3">
        <div class="container-fluid">
            <a href="@Url.Action("Index", "Fertility")" class="btn">
                <i style="color: white; font-size: 1.5em" class="bi bi-chevron-left"></i>
            </a>
            <button style="color: white; font-size: 2em" class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target=".navbar-collapse" aria-controls="navbarSupportedContent"
                    aria-expanded="false" aria-label="Toggle navigation">
                <i class="bi bi-list" style="color:white"></i>
            </button>
            <div class="navbar-collapse collapse d-sm-inline-flex justify-content-between">
                <ul class="navbar-nav flex-grow-1">
                    <li class="nav-item">
                        <a style="color:white" class="nav-link" asp-area="" asp-controller="Home" asp-action="Index">Login</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <img style="display:block; margin-left:auto; margin-right:auto" src="~/images/@(Model.FertilityLevel == FertilityLevel.High ? "MerckHighFert" : "MerckFertilidad").JPG" />
</header>

<div style="@(Model.FertilityLevel != FertilityLevel.High ? "background-color:#2EBDCD;" : "background-color:#EC3B96;")">
    <div class="row justify-content-center">
            <div class="col-1">
                <a href="@Url.Action("Index", "Fertility")" class="btn btn-danger">
                    <i style="color: white; font-size: 2em; opacity:0.8" class="bi bi-chevron-left"></i>
                </a>
            </div>


        <div class="col-7 offset-1 text-center align-self-center" style="color: white; font-size: 2em">@(Model.FertilityLevel != FertilityLevel.High ? "Indicador" : "")</div>
        <div class="col-2">
            <i style="color: white; font-size: 2em; opacity:0.8" class="@(Model.FertilityLevel == FertilityLevel.High ? "" : "bi bi-chevron-right")"></i>
        </div>

        @if(Model.FertilityLevel == FertilityLevel.High)
        {
            <div style="color:white; text-align:center;">
                <br>
                <h4 style="font-weight:bold">EDAD ACTUAL:</h4>
                <h4>@Model.ActualAge AÑOS</h4>
                <br />
                <h4 style="font-weight:bold">1ERA MENSTRUACIÓN:</h4>
                <h4>A LOS @Model.FirstAge AÑOS</h4>
                <br>
                <br>
                <br>
            </div>
        }


        <div style="background-color:white; border-top-left-radius: 1000px; border-top-right-radius: 1000px; height: 50px">
        </div>

    </div>


</div>

@if(Model.FertilityLevel == FertilityLevel.High)
{
    <h4 style="font-weight:bold; color:#EC3B96; text-align:center">RESERVA OVÁRICA:</h4>
}

<div style="background-color:white; border-top-left-radius: 20px; border-top-right-radius: 20px">

    <div style="padding-top: 4em" class="row d-flex justify-content-center">
            <div class="col-4 d-flex justify-content-center">
            <i class="bi bi-flower1 d-flex align-items-center" style="@(Model.FertilityLevel == FertilityLevel.Low ? "color:white; background-color: #EC3B96; border-radius:3px; font-size:4em ; box-shadow: 5px 5px 5px gray;" : "color:#8C92AC; background-color:#E4E7F8; border-radius:3px; font-size:4em")"></i>
            </div>
            <div class="col-4 d-flex justify-content-center">
            <i class="bi bi-flower1 d-flex align-items-center" style="@(Model.FertilityLevel == FertilityLevel.Medium ? "color:white; background-color: #EC3B96; border-radius:3px; font-size:4em;  box-shadow: 5px 5px 5px gray;" : "color:#8C92AC; background-color: #E4E7F8; border-radius:3px; font-size:4em")"></i>
            </div>
            <div class="col-4 d-flex justify-content-center">
            <i class="bi bi-flower1 d-flex align-items-center" style="@(Model.FertilityLevel == FertilityLevel.High ? "color:white; background-color: #2EBDCD; border-radius:3px; font-size:4em; box-shadow: 5px 5px 5px gray;" : "color:#8C92AC; background-color: #E4E7F8; border-radius:3px; font-size:4em")"></i>
            </div>
 
    </div>

    <div style="padding-top: 0.5em; padding-bottom:1em" class="row d-flex justify-content-center">
        <div class="col-4 d-flex justify-content-center">
            <h3 style="@(Model.FertilityLevel == FertilityLevel.Low ? "color:black;" : "color:#A7A7B5; opacity:0.3")">Bajo</h3>
        </div>
           <div class="col-4 d-flex justify-content-center">
            <h3 style="@(Model.FertilityLevel == FertilityLevel.Medium ? "color:black" : "color:#A7A7B5; opacity:0.3")">Medio</h3>
        </div>
        <div class="col-4 d-flex justify-content-center">
            <h3 style="@(Model.FertilityLevel == FertilityLevel.High ? "color:black" : "color:#A7A7B5; opacity:0.3")">Alto</h3>
        </div>
    </div>

    @if(Model.FertilityLevel != FertilityLevel.High)
    {
        <hr />

        <h3 class="text-center">Estas son las clínicas</h3>

            <div style=" margin-top: 50px ;border-top-right-radius: 40px; border-top-left-radius: 40px; overflow: hidden;">
                <div id="mapper" style="width: 100%; height: 400px; background-color: lightblue;">
                </div>
            </div>
        
    }



</div>

<script type='text/javascript' src='https://www.bing.com/api/maps/mapcontrol?key=Ans7MhY4N2wow6lyrbE9gL7eXhZJAjTIp76MkysYSWln1kmnzP43uDzPT_jd7yHu&callback=initializeBingMap' async defer></script>


<script>
    window.initializeBingMap = () => {
        console.log('Bing Maps API initialized!');
            const locationsJson = @Html.Raw(Json.Serialize(Model.Locations));
            GetMap(locationsJson);
       
    }
</script>

<script src="~/js/mapper.js"></script>
